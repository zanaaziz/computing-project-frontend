<h2 mat-dialog-title>Change Password</h2>

<form [formGroup]="passwordForm" (ngSubmit)="onSubmit()">
	<mat-dialog-content>
		<mat-form-field appearance="outline" hideRequiredMarker>
			<mat-label>Current Password</mat-label>

			<input [type]="showPassword ? 'text' : 'password'" formControlName="currentPassword" matInput required />

			<button (click)="showPassword = !showPassword" disableRipple mat-icon-button matSuffix matToolTip="Toggle Visibility" type="button">
				<mat-icon *ngIf="showPassword" color="primary">visibility</mat-icon>
				<mat-icon *ngIf="!showPassword" color="primary">visibility_off</mat-icon>
			</button>
		</mat-form-field>

		<mat-form-field appearance="outline" hideRequiredMarker>
			<mat-label>New Password</mat-label>

			<input [type]="showPassword ? 'text' : 'password'" formControlName="newPassword" matInput required />

			<button (click)="showPassword = !showPassword" disableRipple mat-icon-button matSuffix matToolTip="Toggle Visibility" type="button">
				<mat-icon *ngIf="showPassword" color="primary">visibility</mat-icon>
				<mat-icon *ngIf="!showPassword" color="primary">visibility_off</mat-icon>
			</button>

			<mat-error *ngIf="passwordForm.get('password')?.hasError('pattern')">
				Have at least 8 or more characters, contain at least one capital letter (A-Z) and at least one number (0-9)
			</mat-error>
		</mat-form-field>
	</mat-dialog-content>

	<mat-dialog-actions>
		<button mat-flat-button color="primary" type="submit" class="w-100" [disabled]="isLoading">Save</button>
	</mat-dialog-actions>
</form>
